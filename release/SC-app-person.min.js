"use strict";angular.module("SC-app-person",["SC-app-utils"]),angular.module("SC-app-person").controller("PersonListCtrl",["$scope","personFactory","utilitiesFactory",function(a,b,c){b.getPersonList(function(b){a.persons=b},c.genericHTTPCallbackError)}]),angular.module("SC-app-person").controller("PersonSingleCtrl",["$scope","$stateParams","personFactory","utilitiesFactory",function(a,b,c,d){c.getPersonSingle(b.personAlias,function(b){a.person=b},d.genericHTTPCallbackError)}]),angular.module("SC-app-person").factory("personFactory",["$http","$rootScope","appConfig",function(a,b,c){return{getPersonSingle:function(b,c,d){a.get("/json/api/person/"+b).success(c).error(d)},getPersonList:function(b,d){var e="/json/node.json?type=person&sort=field_last_name&direction=ASC";c.festivalId&&(e=e+"&field_festival="+c.festivalId),a.get(e).success(function(a){angular.forEach(a.list,function(a){if(a.field_last_name){var b=a.field_last_name.charAt(0);a.characterHeading=b}}),b(a)}).error(d)},getPersonCount:function(b,d){var e="/json/node.count?type=person";c.festivalId&&(e=e+"&field_festival="+c.festivalId),a.get(e).success(function(a){b(a.count)}).error(d)}}}]);